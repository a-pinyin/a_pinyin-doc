# A 拼音数据库设计

A 拼音 (2.0) 有 2 个数据库, 都使用 [sqlite3](https://sqlite.org/index.html):

- `a_pinyin-2.db` 内置数据库

- `a_pinyin-2u.db` 用户数据库

其中内置数据库是只读的, 除非版本升级, 否则不可修改内容.

用户数据库用于存放用户配置, 输入历史记录等,
主要用于学习及自定义输入功能.

- 启用 **无痕模式** 时, 用户数据库只读.

- 用户数据库支持 **多设备同步**, 具体方式 TODO

- TODO [可选] 支持用户数据库加密

## 数据库表总体规划

- `a_pinyin` 元数据, 与之前的版本兼容 (A 拼音 1.x)

- `a_pinyin_元数据` 新增的元数据表, 用于描述数据库自身的表和数据

- `固定_*` 固定输入数据 (比如符号等)

- `基础_*` 基础数据集

- `u_*` Unicode 数据库

- `用户_*` 用户数据表

- `c1_*` 核心模块 c1 专用数据

- `c2_*` 核心模块 c2 专用数据

- `c3_*` 核心模块 c3 专用数据

## a*pinyin*元数据

新的元数据表设计:

- **类型**

  - `表`: 对于数据库中一张表的描述

  - `枚举`: 某表某列是枚举值时, 对每一个值的说明

- **名称**

  `表名` 或 `表.列`

- **值** (可选)

  枚举的具体值

- **备注** (可选)

  更多说明

- **时间** (可选)

  创建时间或更新时间 (REAL Julian (date) time)

## 内置数据库主要设计

TODO

## 用户数据库主要设计

TODO
